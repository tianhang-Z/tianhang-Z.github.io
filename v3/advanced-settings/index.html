<hr>
<h2 id="robots-noindex-nofollowsitemap-falselayout-pagegroup-docs-v3order-601title-进阶设定short-title-6-1-进阶设定meta-header-centertitle-sidebar-docs-v3-toc-repos-plugins-snackbar-oldversion"><a href="#robots-noindex-nofollowsitemap-falselayout-pagegroup-docs-v3order-601title-进阶设定short-title-6-1-进阶设定meta-header-centertitle-sidebar-docs-v3-toc-repos-plugins-snackbar-oldversion" class="headerlink" title="robots: noindex,nofollowsitemap: falselayout: pagegroup: docs-v3order: 601title: 进阶设定short_title: 6-1 进阶设定meta:  header: [centertitle]sidebar: [docs-v3, toc, repos]plugins:  - snackbar: oldversion"></a>robots: noindex,nofollow<br>sitemap: false<br>layout: page<br>group: docs-v3<br>order: 601<br>title: 进阶设定<br>short_title: 6-1 进阶设定<br>meta:<br>  header: [centertitle]<br>sidebar: [docs-v3, toc, repos]<br>plugins:<br>  - snackbar: oldversion</h2><h2 id="使用数据文件"><a href="#使用数据文件" class="headerlink" title="使用数据文件"></a>使用数据文件</h2><p>有时您可能需要在主题中使用某些资料，而这些资料并不在文章内，并且是需要重复使用的，那么您可以考虑使用 Hexo 3.0 新增的「数据文件」功能。此功能会载入 <code>source/_data</code> 内的 YAML 或 JSON 文件，如此一来您便能在网站中复用这些文件了。</p>
<p>举例来说，在 <code>source/_data</code> 文件夹中新建 <code>menu.yml</code> 文件：</p>
<pre><code class="language-yaml">Home: /
Gallery: /gallery/
Archives: /archives/
</code></pre>
<p>您就能在模板中使用这些资料：</p>
<pre><code>&lt;% for (var link in site.data.menu) { %&gt;
  &lt;a href=&quot;&lt;%= site.data.menu[link] %&gt;&quot;&gt; &lt;%= link %&gt; &lt;/a&gt;
&lt;% } %&gt;
</code></pre>
<p>渲染结果如下 :</p>
<pre><code>&lt;a href=&quot;/&quot;&gt; Home &lt;/a&gt;
&lt;a href=&quot;/gallery/&quot;&gt; Gallery &lt;/a&gt;
&lt;a href=&quot;/archives/&quot;&gt; Archives &lt;/a&gt;
</code></pre>
<h3 id="Volantis-的数据文件"><a href="#Volantis-的数据文件" class="headerlink" title="Volantis 的数据文件"></a>Volantis 的数据文件</h3><pre><code class="language-yaml">source/_data/layout.yml
source/_data/menu.yml
source/_data/widget.yml
</code></pre>
<h2 id="设置子模块"><a href="#设置子模块" class="headerlink" title="设置子模块"></a>设置子模块</h2><p>{% folding yellow open, 将主题添加为子模块 %}</p>
<pre><code class="language-sh">git submodule add git@github.com:theme-volantis/hexo-theme-volantis themes/volantis
</code></pre>
<p>or</p>
<pre><code class="language-sh">git submodule add https://github.com/volantis-x/hexo-theme-volantis.git themes/volantis
</code></pre>
<p>{% endfolding %}</p>
<h2 id="为网站提速"><a href="#为网站提速" class="headerlink" title="为网站提速"></a>为网站提速</h2><h3 id="加载速度"><a href="#加载速度" class="headerlink" title="加载速度"></a>加载速度</h3><ul>
<li><p>尝试安装 <a href="https://github.com/chenzhutian/hexo-all-minifier">hexo-all-minifier</a> 插件来压缩文件。</p>
</li>
<li><p>减少不必要的 js 插件，例如字数统计、动态背景。</p>
</li>
<li><p>查找并解决拖慢速度的资源，以 Chrome 浏览器为例：</p>
<ol>
<li>页面中点击右键，选择「检查」。</li>
<li>在右边的窗口中「Network」选项卡，并勾选「Disable cache」。</li>
<li>刷新网页，查看加载速度慢的资源。<br>  3.1. 加载缓慢的图片，建议使用 CDN。<br>  3.2. 加载缓慢的可以不用的 js 插件，建议舍弃。<br>  3.3. 加载缓慢却必须使用的 js 插件，建议下载并自己上传至 jsdelivr。</li>
</ol>
</li>
</ul>
<h3 id="运行速度"><a href="#运行速度" class="headerlink" title="运行速度"></a>运行速度</h3><ul>
<li>访问具有动态特效背景（如雪花、粒子等）的网站时，手机很快会发烫变卡，笔记本很快会风扇狂转并且浏览器提示建议关闭此页面。如果你希望网站有好的使用体验请尽量不要安装这类插件。</li>
</ul>
<!--
- 强烈推荐安装 [hexo-offline](https://github.com/JLHwung/hexo-offline) 插件，初次加载速度不变，后期切换页面和刷新网页速度越来越快。
-->

<ul>
<li>推荐安装图片懒加载插件 <a href="https://github.com/Troy-Yang/hexo-lazyload-image">hexo-lazyload-image</a>（需同时安装 <code>hexo-fs</code> 依赖库）。</li>
</ul>
<h2 id="优化-SEO"><a href="#优化-SEO" class="headerlink" title="优化 SEO"></a>优化 SEO</h2><pre><code class="language-yaml">seo:
  # When there are no keywords in the article&#39;s front-matter, use tags as keywords.
  use_tags_as_keywords: true
  # When there is no description in the article&#39;s front-matter, use excerpt as the description.
  use_excerpt_as_description: true
  robots:
    home_first_page: index,follow
    home_other_pages: noindex,follow
    archive: noindex,follow
    category: noindex,follow
    tag: noindex,follow
    # robots can be written in front-matter
</code></pre>
<p>在 front-matter 中，可以设置 <code>keywords</code>、<code>description</code>、<code>robots</code> 和 <code>seo_title</code>。其中 <code>seo_title</code> 仅仅用作网页标题，优先级高于 <code>title</code>。</p>
<ul>
<li><p>文章内部不要使用 H1 标题。</p>
</li>
<li><p>通过死链检测工具检查并删除无法访问的链接。</p>
</li>
<li><p>安装 SEO 优化插件：<br>{% link hexo-autonofollow, <a href="https://github.com/liuzc/hexo-autonofollow">https://github.com/liuzc/hexo-autonofollow</a> %}<br>{% link hexo-generator-seo-friendly-sitemap, <a href="https://github.com/ludoviclefevre/hexo-generator-seo-friendly-sitemap">https://github.com/ludoviclefevre/hexo-generator-seo-friendly-sitemap</a> %}</p>
</li>
<li><p>页面不要堆砌关键词，不要频繁更改路径。</p>
</li>
</ul>
<h2 id="使用-CDN"><a href="#使用-CDN" class="headerlink" title="使用 CDN"></a>使用 CDN</h2><p>对于大部分将博客 deploy 到 GitHub 的用户来说，直接加载本地资源速度比较慢，可以使用 jsdelivr 为开源项目提供的 CDN 服务。</p>
<h3 id="开启方法"><a href="#开启方法" class="headerlink" title="开启方法"></a>开启方法</h3><pre><code class="language-yaml">use_cdn: true
</code></pre>
<p>{% note info, 如果你需要对样式进行 DIY，可以只关闭 style 文件的 CDN。 %}</p>
<h3 id="自定义-CDN"><a href="#自定义-CDN" class="headerlink" title="自定义 CDN"></a>自定义 CDN</h3><p>如果你把对应的文件上传到自己的 CDN 服务器，可以把对应的链接改为自己的 CDN 链接。</p>
<h2 id="安装「相关文章」插件"><a href="#安装「相关文章」插件" class="headerlink" title="安装「相关文章」插件"></a>安装「相关文章」插件</h2><ol>
<li>安装插件</li>
</ol>
<pre><code class="language-sh">npm i -S hexo-related-popular-posts
</code></pre>
<ol start="2">
<li>在需要显示的位置添加 <code>related_posts</code> 例如放在侧边栏：</li>
</ol>
<pre><code class="language-yaml">layout:
  on_page:
    sidebar: [related_posts]
</code></pre>
<ol start="3">
<li>插件的自定义配置方法：<br>{% link hexo-related-popular-posts, <a href="https://github.com/tea3/hexo-related-popular-posts">https://github.com/tea3/hexo-related-popular-posts</a> %}</li>
</ol>
<h2 id="分析与统计"><a href="#分析与统计" class="headerlink" title="分析与统计"></a>分析与统计</h2><p>默认支持 <a href="http://busuanzi.ibruce.info/">不蒜子</a> 的访问统计，可以自行添加百度统计和 Google Analytics。</p>
<h3 id="字数和阅读时长"><a href="#字数和阅读时长" class="headerlink" title="字数和阅读时长"></a>字数和阅读时长</h3><ol>
<li>安装以下插件：</li>
</ol>
<pre><code>npm i --save hexo-wordcount
</code></pre>
<ol start="2">
<li>修改配置文件，将 <code>wordcount</code> 插件打开</li>
</ol>
<pre><code class="language-yaml">plugins:
  ...
  # 文章字数统计、阅读时长，开启需要安装插件: npm i --save hexo-wordcount
  wordcount: true
</code></pre>
<ol start="3">
<li>然后修改配置文件，将 <code>wordcount</code> 写入需要显示的 meta 位置：</li>
</ol>
<pre><code class="language-yaml"># 布局
layout:
  on_list:
    meta: [..., wordcount, ...]
  on_page:
    meta:
      header: [..., wordcount, ...]
      footer: [..., wordcount, ...]
</code></pre>
<h3 id="百度统计"><a href="#百度统计" class="headerlink" title="百度统计"></a>百度统计</h3><pre><code class="language-yaml">baidu_analytics_key: 百度统计的key
</code></pre>
<h3 id="Google-Analytics"><a href="#Google-Analytics" class="headerlink" title="Google Analytics"></a>Google Analytics</h3><pre><code class="language-yaml">google_analytics_key: Google Analytics Key
</code></pre>
<h3 id="CNZZ-统计"><a href="#CNZZ-统计" class="headerlink" title="CNZZ 统计"></a>CNZZ 统计</h3><p>请参考 ZYMIN 的这篇教程：<br>{% link Hexo hexo+ejs+material x 添加CNZZ统计代码, <a href="https://zymin.cn/arcticle/hexo+ejs+material.html">https://zymin.cn/arcticle/hexo+ejs+material.html</a> %}</p>
<h2 id="更多-DIY-玩法"><a href="#更多-DIY-玩法" class="headerlink" title="更多 DIY 玩法"></a>更多 DIY 玩法</h2><p>详见 <a href="https://www.itrhx.com/">@TRHX</a> 的这篇博客：<br>{% link Hexo 博客主题个性化, <a href="https://www.itrhx.com/2018/08/27/A04-Hexo-blog-topic-personalization/">https://www.itrhx.com/2018/08/27/A04-Hexo-blog-topic-personalization/</a> %}</p>
<p>内含卡片半透明、增加卡通人物、自定义鼠标样式、鼠标特效、烟花特效、彩色滚动字体、网站运行时间、动态浏览器标题、雪花飘落特效等多种详细教程。</p>
